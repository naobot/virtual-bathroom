{"ast":null,"code":"var _jsxFileName = \"/Users/nao/code/bathroom/client/src/WaitingRoom.js\";\nimport React, { Component } from 'react';\nimport Pusher from 'pusher-js';\nimport axios from 'axios';\n\nclass WaitingRoom extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visitors: []\n    };\n\n    this.updateVisitorsList = membersList => {\n      this.setState({\n        visitors: membersList\n      });\n    };\n  }\n\n  componentDidMount() {\n    const pusher = new Pusher('93d5b6db6095187f5ef6', {\n      cluster: 'us2',\n      encrypted: true\n    });\n    axios.get('http://localhost:5000').then(({\n      data\n    }) => {\n      this.setState({\n        visitors: [...data]\n      });\n    }).catch(error => console.log(error));\n    const presenceChannel = pusher.subscribe('presence-bathroomQueue');\n    presenceChannel.bind('pusher:subscription_succeeded', function () {\n      updateVisitorsList(presenceChannel.members);\n      var me = presenceChannel.members.me;\n      var userId = me.id;\n      var userInfo = me.info;\n      console.log(me);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, \"hi\");\n  }\n\n}\n\nexport default WaitingRoom;","map":{"version":3,"sources":["/Users/nao/code/bathroom/client/src/WaitingRoom.js"],"names":["React","Component","Pusher","axios","WaitingRoom","state","visitors","updateVisitorsList","membersList","setState","componentDidMount","pusher","cluster","encrypted","get","then","data","catch","error","console","log","presenceChannel","subscribe","bind","members","me","userId","id","userInfo","info","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCI,KADkC,GAC1B;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAD0B;;AAAA,SAKlCC,kBALkC,GAKZC,WAAD,IAAiB;AACpC,WAAKC,QAAL,CAAc;AACZH,QAAAA,QAAQ,EAAEE;AADE,OAAd;AAGD,KATiC;AAAA;;AAWlCE,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,MAAM,GAAG,IAAIT,MAAJ,CAAW,sBAAX,EAAmC;AAChDU,MAAAA,OAAO,EAAE,KADuC;AAEhDC,MAAAA,SAAS,EAAE;AAFqC,KAAnC,CAAf;AAKAV,IAAAA,KAAK,CAACW,GAAN,CAAU,uBAAV,EAAmCC,IAAnC,CAAwC,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AACpD,WAAKP,QAAL,CAAc;AACZH,QAAAA,QAAQ,EAAE,CAAC,GAAGU,IAAJ;AADE,OAAd;AAGD,KAJD,EAIGC,KAJH,CAISC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAJlB;AAMA,UAAMG,eAAe,GAAGV,MAAM,CAACW,SAAP,CAAiB,wBAAjB,CAAxB;AACAD,IAAAA,eAAe,CAACE,IAAhB,CAAqB,+BAArB,EAAsD,YAAW;AAC/DhB,MAAAA,kBAAkB,CAACc,eAAe,CAACG,OAAjB,CAAlB;AAEA,UAAIC,EAAE,GAAGJ,eAAe,CAACG,OAAhB,CAAwBC,EAAjC;AACA,UAAIC,MAAM,GAAGD,EAAE,CAACE,EAAhB;AACA,UAAIC,QAAQ,GAAGH,EAAE,CAACI,IAAlB;AAEAV,MAAAA,OAAO,CAACC,GAAR,CAAYK,EAAZ;AACD,KARD;AASD;;AAEDK,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAGD;;AAvCiC;;AA2CpC,eAAe1B,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport Pusher from 'pusher-js';\nimport axios from 'axios';\n\nclass WaitingRoom extends Component {\n  state = {\n    visitors: [],\n  };\n\n  updateVisitorsList = (membersList) => {\n    this.setState({\n      visitors: membersList,\n    });\n  };\n\n  componentDidMount() {\n    const pusher = new Pusher('93d5b6db6095187f5ef6', {\n      cluster: 'us2',\n      encrypted: true,\n    });\n\n    axios.get('http://localhost:5000').then(({ data }) => {\n      this.setState({\n        visitors: [...data],\n      });\n    }).catch(error => console.log(error))\n\n    const presenceChannel = pusher.subscribe('presence-bathroomQueue');\n    presenceChannel.bind('pusher:subscription_succeeded', function() {\n      updateVisitorsList(presenceChannel.members);\n\n      var me = presenceChannel.members.me;\n      var userId = me.id;\n      var userInfo = me.info;\n\n      console.log(me);\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"users\">hi</div>\n    );\n  }\n\n}\n\nexport default WaitingRoom;"]},"metadata":{},"sourceType":"module"}