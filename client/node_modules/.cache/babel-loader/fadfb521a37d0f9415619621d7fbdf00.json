{"ast":null,"code":"var _jsxFileName = \"/Users/nao/code/bathroom/client/src/WaitingRoom.js\";\nimport React, { Component } from 'react';\nimport Pusher from 'pusher-js';\n\nclass WaitingRoom extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visitors: []\n    };\n  }\n\n  componentDidMount() {\n    const pusher = new Pusher('93d5b6db6095187f5ef6', {\n      cluster: 'us2',\n      encrypted: true\n    });\n    const presenceChannel = pusher.subscribe('presence-bathroomQueue');\n    presenceChannel.bind('pusher:subscription_succeeded', () => {\n      this.setState({\n        visitors: presenceChannel.members\n      }); // var me = presenceChannel.members.me;\n      // var userId = me.id;\n      // var userInfo = me.info;\n      // console.log(me);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, \"Currently online: \", this.state.visitors.count);\n  }\n\n}\n\nexport default WaitingRoom;","map":{"version":3,"sources":["/Users/nao/code/bathroom/client/src/WaitingRoom.js"],"names":["React","Component","Pusher","WaitingRoom","constructor","props","state","visitors","componentDidMount","pusher","cluster","encrypted","presenceChannel","subscribe","bind","setState","members","render","count"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAClCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,MAAM,GAAG,IAAIP,MAAJ,CAAW,sBAAX,EAAmC;AAChDQ,MAAAA,OAAO,EAAE,KADuC;AAEhDC,MAAAA,SAAS,EAAE;AAFqC,KAAnC,CAAf;AAKA,UAAMC,eAAe,GAAGH,MAAM,CAACI,SAAP,CAAiB,wBAAjB,CAAxB;AACAD,IAAAA,eAAe,CAACE,IAAhB,CAAqB,+BAArB,EAAsD,MAAM;AAC1D,WAAKC,QAAL,CAAc;AAAER,QAAAA,QAAQ,EAAEK,eAAe,CAACI;AAA5B,OAAd,EAD0D,CAG1D;AACA;AACA;AAEA;AACD,KARD;AASD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACqB,KAAKX,KAAL,CAAWC,QAAX,CAAoBW,KADzC,CADF;AAKD;;AAhCiC;;AAoCpC,eAAef,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport Pusher from 'pusher-js';\n\nclass WaitingRoom extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visitors: [],\n    };\n  }\n\n  componentDidMount() {\n    const pusher = new Pusher('93d5b6db6095187f5ef6', {\n      cluster: 'us2',\n      encrypted: true,\n    });\n\n    const presenceChannel = pusher.subscribe('presence-bathroomQueue');\n    presenceChannel.bind('pusher:subscription_succeeded', () => {\n      this.setState({ visitors: presenceChannel.members });\n\n      // var me = presenceChannel.members.me;\n      // var userId = me.id;\n      // var userInfo = me.info;\n\n      // console.log(me);\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"users\">\n        Currently online: {this.state.visitors.count}\n      </div>\n    );\n  }\n\n}\n\nexport default WaitingRoom;"]},"metadata":{},"sourceType":"module"}