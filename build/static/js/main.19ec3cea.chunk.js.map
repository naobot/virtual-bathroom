{"version":3,"sources":["Button.js","Hallway.js","WaitingRoom.js","StallFront.js","StallUp.js","StallLeft.js","Chatlist.js","Chatbox.js","StallRight.js","StallDown.js","StallBack.js","Stall.js","App.js","serviceWorker.js","index.js"],"names":["Button","onClick","this","props","buttonText","PureComponent","Hallway","handleEnterBathroomClick","bind","e","onEnterBathroom","id","className","WaitingRoom","pusher","state","me","occupants","count","countOccupants","handleEnterStallClick","presenceChannel","subscribe","setState","members","updateOccupants","console","log","each","member","info","isSpy","onOccupancyChange","onEnterStall","trueOccupants","trueOccupantsList","visitor","push","key","toString","ahead","length","indexOf","enterMessage","Component","StallFront","handleNavigationClick","target","StallUp","StallLeft","Chatlist","getColorStyle","hex","color","chats","map","chat","style","userhex","message","Chatbox","channel","userHex","handleTextChange","text","data","test","keyCode","payload","channel_name","name","axios","post","value","type","placeholder","onChange","onKeyDown","StallRight","StallDown","StallBack","Stall","currentView","max_occupancy","max","currentState","Math","floor","parseInt","slice","App","Pusher","cluster","encrypted","spy","auth","params","stalls","pusher_app_members","inLine","num_stalls","countMembers","spyOn","handleEnterBathroom","handleEnterStall","updateMemberCount","i","updateAppMembers","currentViewType","unsubscribe","num","location","stallId","stallsCopy","Array","from","channelName","split","pop","stallEntered","currentStall","alert","stall","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.19ec3cea.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\n\nclass Button extends PureComponent {\n  render() {\n    const { onClick } = this.props;\n    return (\n      <button onClick={onClick}>{this.props.buttonText}</button>\n    );\n  }\n\n}\n\nexport default Button;","import React, { PureComponent } from 'react';\nimport Button from './Button';\n\nclass Hallway extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleEnterBathroomClick = this.handleEnterBathroomClick.bind(this);\n  }\n\n  // componentDidMount() {\n  //   console.log(`waiting room mounted`);\n  // }\n\n  handleEnterBathroomClick(e) {\n    this.props.onEnterBathroom(e);\n  }\n\n  render() {\n    return (\n      <div id=\"hallway\" className=\"view\">\n        <h2>Hallway</h2>\n        <div className=\"hotspots\">\n          <Button onClick={this.handleEnterBathroomClick} buttonText=\"Enter Bathroom\" />\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Hallway;","import React, { Component } from 'react';\nimport Button from './Button';\n\nclass WaitingRoom extends Component {\n  constructor(props) {\n    super(props);\n    this.pusher = props.pusher;\n    this.state = {\n      me: 0,\n      occupants: { count: 0 },\n    }\n    this.countOccupants = this.countOccupants.bind(this);\n    this.handleEnterStallClick = this.handleEnterStallClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.presenceChannel = this.pusher.subscribe(`presence-bathroom`);\n    this.presenceChannel.bind('pusher:subscription_succeeded', () => {\n      this.setState({ me: this.presenceChannel.members.me.id });\n      this.updateOccupants(this.presenceChannel.members);\n    });\n    this.presenceChannel.bind('pusher:member_added', () => {\n      this.updateOccupants(this.presenceChannel.members);\n    });\n    this.presenceChannel.bind('pusher:member_removed', () => {\n      this.updateOccupants(this.presenceChannel.members);\n      console.log(`WaitingRoom.js: someone left Stall ${this.id}`);\n    });\n  }\n\n  // returns true count of occupants (excluding spies)\n  countOccupants(members) {\n    var count = 0;\n    // console.log(`countOccupants() members in line:`);\n    if (members.count > 0) {\n      members.each(function (member) {\n        if (!member.info.isSpy) { count++ }\n      });\n    }\n    return count\n  }\n\n  updateOccupants(members) {\n    console.log(`WaitingRoom.js updateOccupants: numOccupants ${members.count}`);\n    this.setState({\n      occupants: members,\n    }, () => this.props.onOccupancyChange(this.countOccupants(members), 'waiting'));\n  }\n\n\n  handleEnterStallClick(e) {\n    this.props.onEnterStall(e);\n  }\n\n  render() {\n    let trueOccupants = [];\n    let trueOccupantsList = [];\n    if (this.state.occupants.count > 0) {\n      this.state.occupants.each((visitor) => {\n        if (!visitor.info.isSpy) {\n          trueOccupants.push(visitor.id);\n          trueOccupantsList.push(<li key={visitor.id.toString()}>{visitor.id}</li>);\n        }\n      });\n    }\n    let ahead = trueOccupants.length - trueOccupants.indexOf(this.state.me.toString()) - 1;\n    let enterMessage = 'please wait...';\n    if (ahead > 0) {\n      enterMessage = `${ahead} ahead of you in line`;\n    }\n    else {\n      enterMessage = <Button onClick={this.handleEnterStallClick} buttonText=\"Enter Stall\" />;\n    }\n\n    return (\n      <div id=\"waiting\" className=\"view\">\n        <h2>Waiting Room</h2>\n        In line: {this.countOccupants(this.state.occupants)}<br/>\n        <ul>{trueOccupantsList}</ul>\n        {enterMessage}\n      </div>\n    );\n  }\n\n}\n\nexport default WaitingRoom;","import React, { PureComponent } from 'react';\nimport Button from './Button';\n\nexport default class StallFront extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleNavigationClick = this.handleNavigationClick.bind(this);\n  }\n\n  // componentDidMount() {\n  //   console.log(`waiting room mounted`);\n  // }\n\n  handleNavigationClick(target) {\n    this.props.handleNavigationClick(target);\n  }\n\n  render() {\n    return (\n      <div id=\"stall-front\" className=\"view\">\n        <h2>Stall: Front</h2>\n        <Button onClick={() => this.handleNavigationClick('stall-up')} buttonText=\"Up\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-left')} buttonText=\"Left\" />\n        <Button onClick={() => this.handleNavigationClick('stall-right')} buttonText=\"Right\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-down')} buttonText=\"Down\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-back')} buttonText=\"Back\" /><br />\n      </div>\n    );\n  }\n\n}\n","import React, { PureComponent } from 'react';\nimport Button from './Button';\n\nexport default class StallUp extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleNavigationClick = this.handleNavigationClick.bind(this);\n  }\n\n  // componentDidMount() {\n  //   console.log(`waiting room mounted`);\n  // }\n\n  handleNavigationClick(target) {\n    this.props.handleNavigationClick(target);\n  }\n\n  render() {\n    return (\n      <div id=\"stall-up\" className=\"view\">\n        <h2>Stall: Up</h2>\n        <Button onClick={() => this.handleNavigationClick('stall-front')} buttonText=\"Front\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-up')} buttonText=\"Up\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-left')} buttonText=\"Left\" />\n        <Button onClick={() => this.handleNavigationClick('stall-right')} buttonText=\"Right\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-down')} buttonText=\"Down\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-back')} buttonText=\"Back\" /><br />\n      </div>\n    );\n  }\n\n}\n","import React, { PureComponent } from 'react';\nimport Button from './Button';\n\nexport default class StallLeft extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleNavigationClick = this.handleNavigationClick.bind(this);\n  }\n\n  // componentDidMount() {\n  //   console.log(`waiting room mounted`);\n  // }\n\n  handleNavigationClick(target) {\n    this.props.handleNavigationClick(target);\n  }\n\n  render() {\n    return (\n      <div id=\"stall-left\" className=\"view\">\n        <h2>Stall: Left</h2>\n        <Button onClick={() => this.handleNavigationClick('stall-front')} buttonText=\"Front\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-up')} buttonText=\"Up\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-left')} buttonText=\"Left\" />\n        <Button onClick={() => this.handleNavigationClick('stall-right')} buttonText=\"Right\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-down')} buttonText=\"Down\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-back')} buttonText=\"Back\" /><br />\n      </div>\n    );\n  }\n\n}\n","import React, { Component } from 'react';\n\nexport default class Chatlist extends Component {\n  constructor(props) {\n    super(props);\n    this.getColorStyle = this.getColorStyle.bind(this);\n  }\n\n  getColorStyle(hex) {\n    return { color: hex }\n  }\n\n  render() {\n    const chats = this.props.chats.map(chat => \n      <div>\n        <div className=\"row show-grid\">\n          <div className=\"col-xs-12\">\n            \n            <div className=\"chatMessage\">\n              <div key={chat.id} className=\"box\">\n                <p>\n                  <strong style={this.getColorStyle(chat.userhex)}>someone</strong>\n                </p>\n                <p>{chat.message}</p>\n              </div>\n            </div>\n            </div>\n          </div>\n        </div>\n      );\n\n\n    return (\n      <div id=\"chatlist\">\n        <ul>\n          {chats}\n        </ul>\n      </div>\n    );\n  }\n\n}\n","import React, { Component } from 'react';\nimport Chatlist from './Chatlist';\nimport axios from 'axios';\n\nexport default class Chatbox extends Component {\n  constructor(props) {\n    super(props);\n    this.channel = props.channel;\n    this.userHex = props.userHex;\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.state = {\n      text: '',\n      chats: [],\n    }\n  }\n\n  componentDidMount() {\n    this.channel.bind('message', data => {\n      this.setState({ chats: [...this.state.chats, data], test: '' });\n    });\n  }\n\n  handleTextChange(e) {\n    if (e.keyCode === 13) { // hit enter on keyboard\n      const payload = {\n        channel_name: this.channel.name,\n        userhex: this.userHex,\n        message: this.state.text,\n      };\n      axios.post('http://localhost:5000/message', payload);\n      this.setState({ text: '' });\n    }\n    else {\n      this.setState({ text: e.target.value });\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"chatbox\" className=\"component-box\">\n        <h2>Chatbox</h2>\n        <Chatlist chats={this.state.chats} />\n        <input\n          type=\"text\"\n          value={this.state.text}\n          placeholder=\"chat here...\"\n          onChange={this.handleTextChange}\n          onKeyDown={this.handleTextChange}\n          />\n      </div>\n    );\n  }\n\n}\n","import React, { PureComponent } from 'react';\nimport Button from './Button';\nimport Chatbox from './Chatbox';\n\nexport default class StallRight extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.channel = props.channel;\n    this.userHex = props.userHex;\n    this.handleNavigationClick = this.handleNavigationClick.bind(this);\n  }\n\n  handleNavigationClick(target) {\n    this.props.handleNavigationClick(target);\n  }\n\n  render() {\n    return (\n      <div id=\"stall-right\" className=\"view\">\n        <h2>Stall: Right</h2>\n        <Button onClick={() => this.handleNavigationClick('stall-front')} buttonText=\"Front\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-up')} buttonText=\"Up\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-left')} buttonText=\"Left\" />\n        <Button onClick={() => this.handleNavigationClick('stall-right')} buttonText=\"Right\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-down')} buttonText=\"Down\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-back')} buttonText=\"Back\" /><br />\n        <Chatbox userHex={this.userHex} channel={this.channel} />\n      </div>\n    );\n  }\n\n}\n","import React, { PureComponent } from 'react';\nimport Button from './Button';\n\nexport default class StallDown extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleNavigationClick = this.handleNavigationClick.bind(this);\n  }\n\n  // componentDidMount() {\n  //   console.log(`waiting room mounted`);\n  // }\n\n  handleNavigationClick(target) {\n    this.props.handleNavigationClick(target);\n  }\n\n  render() {\n    return (\n      <div id=\"stall-down\" className=\"view\">\n        <h2>Stall: Down</h2>\n        <Button onClick={() => this.handleNavigationClick('stall-front')} buttonText=\"Front\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-up')} buttonText=\"Up\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-left')} buttonText=\"Left\" />\n        <Button onClick={() => this.handleNavigationClick('stall-right')} buttonText=\"Right\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-down')} buttonText=\"Down\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-back')} buttonText=\"Back\" /><br />\n      </div>\n    );\n  }\n\n}\n","import React, { PureComponent } from 'react';\nimport Button from './Button';\n\nexport default class StallBack extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleNavigationClick = this.handleNavigationClick.bind(this);\n  }\n\n  // componentDidMount() {\n  //   console.log(`waiting room mounted`);\n  // }\n\n  handleNavigationClick(target) {\n    this.props.handleNavigationClick(target);\n  }\n\n  render() {\n    return (\n      <div id=\"stall-front\" className=\"view\">\n        <h2>Stall: Back</h2>\n        <Button onClick={() => this.handleNavigationClick('stall-front')} buttonText=\"Front\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-up')} buttonText=\"Up\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-left')} buttonText=\"Left\" />\n        <Button onClick={() => this.handleNavigationClick('stall-right')} buttonText=\"Right\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-down')} buttonText=\"Down\" /><br />\n        <Button onClick={() => this.handleNavigationClick('stall-back')} buttonText=\"Back\" /><br />\n      </div>\n    );\n  }\n\n}\n","import React, { Component } from 'react';\nimport StallFront from './StallFront';\nimport StallUp from './StallUp';\nimport StallLeft from './StallLeft';\nimport StallRight from './StallRight';\nimport StallDown from './StallDown';\nimport StallBack from './StallBack';\n\nclass Stall extends Component {\n  constructor(props) {\n    super(props);\n    this.pusher = props.pusher;\n    this.id = props.id;\n    this.presenceChannel = null;\n    this.me = null;\n    this.state = {\n      occupants: {count: 0},\n      userHex: '#ffffff',\n      currentView: 'stall-front',\n    };\n    this.max_occupancy = props.max;\n    this.updateOccupants = this.updateOccupants.bind(this);\n    this.countOccupants = this.countOccupants.bind(this);\n    this.handleNavigationClick = this.handleNavigationClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.presenceChannel = this.pusher.subscribe(`presence-stall-${this.id}`);\n    this.presenceChannel.bind('pusher:subscription_succeeded', () => {\n      this.me = this.presenceChannel.members.me.id;\n      this.setState(currentState => {\n        return {\n          userHex: '#' + Math.floor(parseInt(this.presenceChannel.members.me.id)*16777215).toString(16).slice(-6)\n        }\n      });\n      this.updateOccupants(this.presenceChannel.members);\n    });\n    this.presenceChannel.bind('pusher:member_added', () => {\n      this.updateOccupants(this.presenceChannel.members);\n    });\n    this.presenceChannel.bind('pusher:member_removed', () => {\n      this.updateOccupants(this.presenceChannel.members);\n      console.log(`Stall.js: someone left Stall ${this.id}`);\n    });\n  }\n\n  // returns true count of occupants (excluding spies)\n  countOccupants(members) {\n    var count = 0;\n    // console.log(`countOccupants() members in stall ${this.id}:`);\n    if (members.count > 0) {\n      members.each(function (member) {\n        if (!member.info.isSpy) { count++ }\n      });\n    }\n    return count\n  }\n\n  updateOccupants(members) {\n    // console.log(`Stall.js updateOccupants: stall id ${this.id}, numOccupants ${members.count}`);\n    this.setState({\n      occupants: members,\n    }, () => this.props.onOccupancyChange(this.countOccupants(members), 'stall', this.id));\n  }\n\n  handleNavigationClick(target) {\n    this.setState({ currentView: target });\n  }\n\n  render() {\n    const colorStyle = {\n      color: this.state.userHex,\n    }\n    var currentView = <StallFront handleNavigationClick={this.handleNavigationClick} />;\n    switch (this.state.currentView) {\n      case 'stall-up':\n        currentView = <StallUp handleNavigationClick={this.handleNavigationClick} />;\n        break;\n      case 'stall-left':\n        currentView = <StallLeft handleNavigationClick={this.handleNavigationClick} />;\n        break;\n      case 'stall-right': // contains chatbox\n        currentView = <StallRight channel={this.presenceChannel} userHex={this.state.userHex} handleNavigationClick={this.handleNavigationClick} />;\n        break;\n      case 'stall-down':\n        currentView = <StallDown handleNavigationClick={this.handleNavigationClick} />;\n        break;\n      case 'stall-back':\n        currentView = <StallBack handleNavigationClick={this.handleNavigationClick} />;\n        break;\n      case 'stall-front':\n      default:\n        currentView = <StallFront handleNavigationClick={this.handleNavigationClick} />;\n        break;\n    }\n    return (\n      <div id=\"stall\">\n        <h2>Stall {this.id}: {this.countOccupants(this.state.occupants)} / {this.max_occupancy}</h2>\n        {currentView}\n      </div>\n    );\n  }\n\n}\n\nexport default Stall;","import React, { Component } from 'react';\nimport Pusher from 'pusher-js';\nimport Hallway from './Hallway'\nimport WaitingRoom from './WaitingRoom';\nimport Stall from './Stall';\nimport './css/normalize.css';\nimport './css/App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.pusher = new Pusher('93d5b6db6095187f5ef6', {\n      cluster: 'us2',\n      encrypted: true,\n    });\n    this.spy = new Pusher('93d5b6db6095187f5ef6', {\n      encrypted: true,\n      cluster: 'us2',\n      auth: {\n        params: {\n          isSpy: true\n        }\n      }\n    });\n    this.me = null;\n    this.state = {\n      currentView: { type: 'hallway', id: null },\n      stalls: [], // object of Stall components\n      pusher_app_members: { count: 0 }, // pusher members object\n      inLine: 0,\n      message: '',\n    };\n    this.max_occupancy = 2; // ADJUST AS NEEDED\n    this.num_stalls = 2; // ADJUST AS NEEDED\n    this.countMembers = this.countMembers.bind(this);\n    this.spyOn = this.spyOn.bind(this);\n    this.handleEnterBathroom = this.handleEnterBathroom.bind(this);\n    this.handleEnterStall = this.handleEnterStall.bind(this);\n    this.updateMemberCount = this.updateMemberCount.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.spyOn('presence-bathroom', 'waiting');\n    for (var i = 0; i < this.num_stalls; i++) {\n      this.spyOn(`presence-stall-${i}`, 'stall');\n    }\n    // main app channel\n    this.presenceChannel = this.pusher.subscribe('presence-app');\n    this.presenceChannel.bind('pusher:subscription_succeeded', () => {\n      this.me = this.presenceChannel.members.me.id;\n      this.updateAppMembers(this.presenceChannel.members);\n      // console.log(this.presenceChannel.members.me.id + ' subscribed to WaitingRoom');\n    });\n    this.presenceChannel.bind('pusher:member_added', () => {\n      this.updateAppMembers(this.presenceChannel.members);\n      console.log(`currentViewType: ${this.state.currentViewType}`);\n      // console.log('someone joined Bathroom App');\n    });\n    // someone left App\n    this.presenceChannel.bind('pusher:member_removed', (member) => {\n      this.updateAppMembers(this.presenceChannel.members);\n      console.log(`${member.id} left Bathroom App`);\n    });\n  }\n\n  componentWillUnmount() {\n    this.pusher.unsubscribe('presence-app');\n  }\n\n  // returns a the number of members connected to channel\n  // excluding spies\n  countMembers(channel) {\n    // console.log(\"Current users in \" + channel.name + \":\");\n    var count = 0;\n    // var stallId = channel.name.split('-').pop();\n    channel.members.each(function (member) {\n      if (!member.info.isSpy) { console.log(\"user: \" + member.id); count++; }\n    });\n    return count\n  };\n\n  // generic 'true' member count (excludes spies)\n  updateMemberCount(num, location, stallId) {\n    if (location === 'stall') {\n      var stallsCopy = Array.from(this.state.stalls);\n      stallsCopy[stallId] = { id: stallId, occupants: num };\n      this.setState(currentState => {\n        return {\n          stalls: stallsCopy,\n        }\n      });\n    }\n    else if (location === 'waiting') {\n      this.setState(currentState => {\n        return { inLine: num }\n      });\n    }\n  }\n\n  // in app\n  updateAppMembers(members) {\n    this.setState({\n      pusher_app_members: members,\n    });\n  }\n\n  // spy on a channel\n  spyOn(channelName, location) {\n    var channel = this.spy.subscribe(channelName);\n    var stallId = null;\n    if (location === 'stall') {\n      stallId = channelName.split('-').pop();\n    }\n    // console.log('trying to spy');\n    // console.log(channel);\n    channel.bind(\"pusher:subscription_succeeded\", () => {\n      console.log(`spying on ${channelName}`);\n      this.updateMemberCount(this.countMembers(channel), location, stallId);\n    });\n    channel.bind(\"pusher:member_added\", () => {\n      this.updateMemberCount(this.countMembers(channel), location, stallId);\n    });\n    channel.bind(\"pusher:member_removed\", () => {\n      console.log(`someone left ${channelName}`);\n      this.updateMemberCount(this.countMembers(channel), location, stallId);\n    });\n  };\n\n  /* BEGIN: View transition functions \n    -----------------------------------\n  */\n  // hallway -> bathroom\n  handleEnterBathroom(e) {\n    this.setState(currentState => {\n      return {\n        currentView: { type: 'waiting', id: null },\n      }\n    })\n  }\n\n  // bathroom -> stall\n  handleEnterStall(e) {\n    var stallEntered = false;\n    this.pusher.unsubscribe('presence-bathroom');\n\n    for (var i = 0; !stallEntered && i < this.state.stalls.length; i++) {\n      var currentStall = {...this.state.stalls[i]};\n      let stallId = i;\n      if (currentStall.occupants < this.max_occupancy) {\n        this.updateMemberCount(currentStall.occupants+1, 'stall', i);\n        this.setState(currentState => {\n          return {\n            currentView: { type: 'stall', id: stallId },\n          };\n        });\n        stallEntered = true;\n      }\n      else {\n        console.log(`Stall ${i} full`);\n      }\n    }\n\n    if (!stallEntered) {\n      alert('no vacant stalls available!');\n    }\n  }\n\n  render() {\n    const stalls = this.state.stalls.map((stall) =>\n      <li key={stall.id.toString()}>Stall {stall.id}: {stall.occupants}/{this.max_occupancy}</li>\n    );\n\n    // let visitorsList = [];\n    // if (this.state.pusher_app_members.count > 0) {\n    //   this.state.pusher_app_members.each((visitor) => \n    //     visitorsList.push(<li key={visitor.id.toString()}>{visitor.id}</li>)\n    //   );\n    // }\n    // default view is hallway\n    let currentView = <Hallway onEnterBathroom={this.handleEnterBathroom} />\n    if (this.state.currentView.type === 'waiting') { \n      currentView = <WaitingRoom onEnterStall={this.handleEnterStall} pusher={this.pusher} onOccupancyChange={this.updateMemberCount} />; \n    }\n    if (this.state.currentView.type === 'stall') {\n      currentView = <Stall id={this.state.currentView.id} pusher={this.pusher} max={this.max_occupancy} onOccupancyChange={this.updateMemberCount} />;\n    }\n    return (\n      <div id=\"app\">\n        <div id=\"debug-console\" className=\"hide\">\n          Number of Stalls: {this.num_stalls}<br/>\n          <h3>Current Users: {this.state.pusher_app_members.count}</h3>\n          <p><strong>In line:</strong> {this.state.inLine}</p>\n          <h3>Stalls</h3>\n          {stalls}<br/>\n        </div>\n        {currentView}\n      </div>\n    );\n  }\n\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}